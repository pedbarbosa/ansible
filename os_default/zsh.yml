---
- hosts: all
  become: yes
  become_user: root
  tasks:
  - name: Check if zsh is installed
    pacman:
      name: zsh
      state: installed
  - name: Configure zshrc
    copy:
      src: files/zshrc
      dest: ~/.zshrc
      mode: 0600
  - name: Clone oh-my-zsh git repository
    git:
      repo: 'https://github.com/robbyrussell/oh-my-zsh.git'
      dest: /root/.oh-my-zsh
  - name: Clone fzf git repository
    git:
      repo: 'https://github.com/junegunn/fzf.git'
      dest: /root/.fzf
- hosts: all
  become: yes
  become_user: pbarbosa
  tasks:
    - name: Configure zshrc
      copy:
        src: files/zshrc
        dest: ~pbarbosa/.zshrc
    - name: Clone oh-my-zsh git repository
      git:
        repo: 'https://github.com/robbyrussell/oh-my-zsh.git'
        dest: ~pbarbosa/.oh-my-zsh
    - name: Clone fzf git repository
      git:
        repo: 'https://github.com/junegunn/fzf.git'
        dest: ~pbarbosa/.fzf
